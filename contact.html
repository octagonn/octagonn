<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - SpyderNet IT</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/light/style.css">
    <script src="https://www.recaptcha.net/recaptcha/api.js" async defer></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        window.onload = function() {
            var forms = document.getElementsByTagName('form');
            for (var i = 0; i < forms.length; i++) {
                forms[i].addEventListener('submit', function(event) {
                    var response = grecaptcha.getResponse();
                    if (response.length === 0) {
                        event.preventDefault();
                        alert('Please check the reCAPTCHA box to verify you are not a robot.');
                        return false;
                    }
                });
            }
        };
    </script>
</head>
<body>
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-left">
                <div class="contact-item">
                    <i class="ph-light ph-phone"></i>
                    <span>(949) 237-2612</span>
                </div>
                <div class="contact-item">
                    <i class="ph-light ph-envelope"></i>
                    <span>spydernetit@gmail.com</span>
                </div>
            </div>
            <div class="top-bar-right">
                <span>Serving Orange County & Surrounding Areas</span>
            </div>
        </div>
    </div>
    
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html" class="logo-container">
                    <img src="img/spydernet-spider-logo-gradient.png" alt="SpyderNet Spider Logo" class="logo-spider">
                    <div class="logo-text-container">
                        <span class="logo-main-text">SpyderNet</span>
                        <span class="logo-sub-text">IT</span>
                        <span class="logo-tagline">Your IT Solutions Provider</span>
                    </div>
                </a>
            </div>
            <div class="mobile-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html" class="active">Contact</a></li>
                </ul>
            </nav>
            <div class="header-cta">
                <a href="#contact" class="btn btn-header-cta">Get Help Today</a>
            </div>
        </div>
    </header>

    <section class="page-title scroll-element">
        <div class="container">
            <h1>Contact Us</h1>
        </div>
    </section>

    <!-- Customer Login Prompt (for non-logged-in users) -->
    <section id="loginPrompt" class="customer-prompt-section" style="display: none;">
        <div class="container">
            <div class="customer-prompt glass-card scroll-element">
                <div class="prompt-content">
                    <i class="ph-light ph-user-circle"></i>
                    <h3>Get Faster Service</h3>
                    <p>Sign in to your customer account to create trackable service tickets, view history, and schedule appointments.</p>
                </div>
                <div class="prompt-actions">
                    <a href="login.html" class="btn btn-primary">
                        <i class="ph-light ph-sign-in"></i>
                        Sign In
                    </a>
                    <a href="login.html" class="btn btn-secondary">
                        <i class="ph-light ph-user-plus"></i>
                        Create Account
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Info (for logged-in users) -->
    <section id="customerInfo" class="customer-info-section" style="display: none;">
        <div class="container">
            <div class="customer-info glass-card scroll-element">
                <div class="customer-welcome">
                    <i class="ph-light ph-user-check"></i>
                    <div>
                        <h3>Welcome back, <span id="customerName">Customer</span>!</h3>
                        <p>Creating a service ticket for: <span id="customerEmail">email@example.com</span></p>
                    </div>
                </div>
                <div class="customer-actions">
                    <a href="customer-portal.html" class="btn btn-secondary">
                        <i class="ph-light ph-house"></i>
                        Customer Portal
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-details-section">
        <div class="container">
            <div class="contact-details-intro scroll-element">
                <h2>Get in Touch</h2>
                <p>Ready to solve your tech challenges? Contact us for fast, reliable IT support and consultation.</p>
            </div>
            
            <div class="contact-details-grid">
                <div class="contact-detail-card glass-card scroll-element">
                    <div class="contact-icon">
                        <i class="ph-light ph-phone"></i>
                    </div>
                    <h3>Call or Text</h3>
                    <p>Phone: (949) 237-2612</p>
                    <p>Available for urgent support</p>
                </div>
                
                <div class="contact-detail-card glass-card scroll-element">
                    <div class="contact-icon">
                        <i class="ph-light ph-envelope"></i>
                    </div>
                    <h3>Email Us</h3>
                    <p><a href="mailto:spydernetit@gmail.com">spydernetit@gmail.com</a></p>
                    <p>We respond within 24 hours</p>
                </div>
                
                <div class="contact-detail-card glass-card scroll-element">
                    <div class="contact-icon">
                        <i class="ph-light ph-clock"></i>
                    </div>
                    <h3>Service Hours</h3>
                    <p>Monday - Friday: 9 AM - 6 PM</p>
                    <p>Weekend: On-call for emergencies</p>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-form-section" id="contact">
        <div class="container">
            <div class="contact-content scroll-element">
                <h2>Send Us a Message</h2>
                <p>Fill out the form below and we'll get back to you as soon as possible.</p>
            </div>
            
            <div class="contact-form-container glass-card scroll-element">
                <!-- Success Message -->
                <div id="successMessage" style="display: none; background: #d4edda; color: #155724; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
                    Thank you! Your message has been sent successfully. We'll get back to you soon.
                </div>
                
                <!-- Error Message -->
                <div id="errorMessage" style="display: none; background: #f8d7da; color: #721c24; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
                    Sorry, there was an error sending your message. Please try again or call us directly.
                </div>
                
                <form id="contactForm">
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" name="name" placeholder="Full Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" name="email" placeholder="Email Address" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="tel" name="phone" placeholder="Phone Number">
                        </div>
                        <div class="form-group">
                            <input type="text" name="subject" placeholder="Subject">
                        </div>
                    </div>
                    <div class="form-group">
                        <textarea name="message" placeholder="Describe your tech issue or service needed..." rows="6" required></textarea>
                    </div>
                    
                    <div class="recaptcha-container">
                        <div class="g-recaptcha" data-sitekey="6LcTrSwrAAAAALxxoSmmbopp3LUbG2zKAy8f0CiT"></div>
                    </div>
                    
                    <div class="form-submit">
                        <button type="submit" class="btn btn-primary" id="submitBtn">SEND MESSAGE</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <section class="reviews scroll-element">
        <div class="container">
            <h2><i class="ph-light ph-star icon-gradient"></i> Leave A Google Review!</h2>
            <p class="review-text">Help us grow by sharing your experience with others.</p>
            <a href="https://g.page/r/Ca4pUoaLIJ6MEAE/review" target="_blank" class="review-link">
                <img src="img/google-logo.png" alt="Google" class="review-logo" style="max-width: 100px; height: auto;">
                <span class="review-button">Write a Review</span>
            </a>
        </div>
    </section>

    <footer class="scroll-element">
        <div class="container">
            <div class="footer-bottom">
                <p>Copyright © 2025 SpyderNet IT - All Rights Reserved.</p>
                <div class="footer-links" style="margin-top: 20px;">
                    <a href="privacy-policy.html">Privacy Policy</a>
                    <a href="terms-conditions.html">Terms and Conditions</a>
                </div>
            </div>
        </div>
    </footer>

        <script src="js/config.js"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/script.js"></script>
    <script>
        // Handle contact form submission
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const successMsg = document.getElementById('successMessage');
            const errorMsg = document.getElementById('errorMessage');
            
            // Check reCAPTCHA
            const response = grecaptcha.getResponse();
            if (response.length === 0) {
                alert('Please check the reCAPTCHA box to verify you are not a robot.');
                return;
            }
            
            // Hide messages
            successMsg.style.display = 'none';
            errorMsg.style.display = 'none';
            
            // Disable submit button
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';
            
            try {
                // Get form data
                const formData = {
                    form_type: 'Contact Form',
                    name: document.querySelector('input[name="name"]').value,
                    email: document.querySelector('input[name="email"]').value,
                    phone: document.querySelector('input[name="phone"]').value || null,
                    subject: document.querySelector('input[name="subject"]').value || 'New contact form submission from SpyderNet IT website',
                    message: document.querySelector('textarea[name="message"]').value,
                    processed: false,
                    created_at: new Date().toISOString()
                };
                
                // Submit to Supabase
                const { data, error } = await supabase
                    .from('web_form_submissions')
                    .insert([formData]);
                
                if (error) throw error;
                
                // Show success message
                successMsg.style.display = 'block';
                
                // Reset form and reCAPTCHA
                document.getElementById('contactForm').reset();
                grecaptcha.reset();
                
                // Scroll to success message
                successMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
            } catch (error) {
                console.error('Form submission error:', error);
                errorMsg.style.display = 'block';
                errorMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } finally {
                // Re-enable submit button
                submitBtn.disabled = false;
                submitBtn.textContent = 'SEND MESSAGE';
            }
        });
    </script>
    <script src="js/enhanced-contact.js"></script>
    <!-- Zapier Chatbot -->
    <script async type='module' src='https://interfaces.zapier.com/assets/web-components/zapier-interfaces/zapier-interfaces.esm.js'></script>
    <zapier-interfaces-chatbot-embed is-popup='true' chatbot-id='cma82c9ya006c93e2cbb1kuql'></zapier-interfaces-chatbot-embed>
</body>
</html> 